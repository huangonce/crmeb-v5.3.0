(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{490:function(e,t,r){var content=r(604);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(3).default)("229866d8",content,!0,{sourceMap:!1})},602:function(e,t,r){e.exports=r.p+"img/phone.d17cbca.png"},603:function(e,t,r){"use strict";r(490)},604:function(e,t,r){var o=r(2)((function(i){return i[1]}));o.push([e.i,".wxPay .header[data-v-deee9b1c]{color:#999;height:60px;line-height:60px}.wxPay .header .home[data-v-deee9b1c]{color:#282828}.wxPay .wrapper[data-v-deee9b1c]{background-color:#fff;padding:26px 30px}.wxPay .wrapper .title[data-v-deee9b1c]{font-size:20px;margin-bottom:51px}.wxPay .wrapper .title .amount[data-v-deee9b1c]{color:#969696;font-size:14px}.wxPay .wrapper .title .amount .num[data-v-deee9b1c]{font-size:22px;font-weight:700}.wxPay .wrapper .wx[data-v-deee9b1c]{width:310px}.wxPay .wrapper .wx .pictrue[data-v-deee9b1c]{border:1px solid #ccc;height:310px;width:100%}.wxPay .wrapper .wx .pictrue img[data-v-deee9b1c]{height:100%;width:100%}.wxPay .wrapper .wx .text[data-v-deee9b1c]{background-color:#eb5e4a;color:#fff;font-size:14px;height:72px;margin-top:16px;width:100%}.wxPay .wrapper .wx .text .iconfont[data-v-deee9b1c]{font-size:50px;margin-right:30px}.wxPay .wrapper .wx .text .tip[data-v-deee9b1c]{margin-top:4px}.wxPay .wrapper .phone[data-v-deee9b1c]{height:399px;margin-left:144px;width:262px}.wxPay .wrapper .phone img[data-v-deee9b1c]{height:100%;width:100%}.wxPay .wrapper .selectPay[data-v-deee9b1c]{color:#236fe9;cursor:pointer;font-size:16px;margin-top:68px}.wxPay .wrapper .selectPay .iconfont[data-v-deee9b1c]{font-size:15px;margin-right:16px}",""]),o.locals={},e.exports=o},647:function(e,t,r){"use strict";r.r(t);var o=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"text acea-row row-center-wrapper"},[t("div",{staticClass:"iconfont icon-saoyisao"}),e._v(" "),t("div",[t("div",[e._v("请使用微信扫一扫")]),e._v(" "),t("div",{staticClass:"tip"},[e._v("扫描二维码支付")])])])},function(){var e=this._self._c;return e("div",{staticClass:"phone"},[e("img",{attrs:{src:r(602)}})])}],c=(r(19),{name:"wxPay",auth:"guest",data:function(){return{orderId:0,totalPrice:0,codeUrl:"",logo:"",invalid:0,endTime:"",timeName:null}},watch:{endTime:function(e){0===e&&clearInterval(this.timeName)}},fetch:function(e){var t=e.store;t.commit("isHeader",!0),t.commit("isFooter",!0)},head:function(){return{title:"微信支付-"+this.$store.state.titleCon}},created:function(){this.orderId=this.$route.query.orderId,this.totalPrice=this.$route.query.totalPrice,this.goWx()},mounted:function(){var e=this;this.timeName=setInterval((function(){setTimeout(e.wxSuccess(),0)}),2e3)},beforeDestroy:function(){clearInterval(this.timeName)},methods:{wxSuccess:function(){var e=this;e.$axios.get("/pc/check_order_status/"+e.orderId+"/"+e.invalid).then((function(t){e.endTime=t.data.time,t.data.status&&(clearInterval(e.timeName),e.$message.success("支付成功"),e.$store.commit("cartNum",0),e.getOrderCoupon(e.orderId),setTimeout((function(){e.$router.replace({path:"/order_detail",query:{orderId:e.orderId}})}),1e3))})).catch((function(t){e.$message.error(t),setTimeout((function(){e.$router.replace({path:"/"})}),1e3)}))},getOrderCoupon:function(e){this.$axios.post("/v2/order/product_coupon/"+e).then((function(e){}))},Return:function(){this.$router.go(-1)},goWx:function(){var e=this;e.$axios.post("/order/pay",{uni:e.orderId,paytype:"weixin",from:"pc"}).then((function(t){e.codeUrl=t.data.result.jsConfig.code_url,e.invalid=t.data.result.jsConfig.invalid})).catch((function(t){e.$message.error(t)}))}}}),n=(r(603),r(16)),component=Object(n.a)(c,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"wxPay wrapper_1200"},[t("div",{staticClass:"header"},[t("span",{staticClass:"home"},[e._v("首页 > 个人中心 > 确认订单 >")]),e._v(" 订单号："+e._s(e.orderId)+"\n  ")]),e._v(" "),t("div",{staticClass:"wrapper"},[t("div",{staticClass:"title acea-row row-between-wrapper"},[t("div",[e._v("微信支付")]),e._v(" "),t("div",{staticClass:"amount"},[e._v("应付金额："),t("span",{staticClass:"num font-color"},[e._v(e._s(e.totalPrice))]),e._v("元")])]),e._v(" "),t("div",{staticClass:"acea-row row-center-wrapper"},[t("div",{staticClass:"wx"},[t("div",{staticClass:"pictrue"},[t("client-only",[t("vue-qr",{staticClass:"bicode",attrs:{logoSrc:e.logo,text:e.codeUrl,size:310}})],1)],1),e._v(" "),e._m(0)]),e._v(" "),e._m(1)]),e._v(" "),t("div",{staticClass:"selectPay",on:{click:e.Return}},[t("span",{staticClass:"iconfont icon-fanhui"}),e._v("选择其他支付方式")])])])}),o,!1,null,"deee9b1c",null);t.default=component.exports}}]);