(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{437:function(t,e,o){t.exports=o.p+"img/noCoupou.15051fc.png"},438:function(t,e,o){var content=o(455);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(3).default)("67d57dbc",content,!0,{sourceMap:!1})},451:function(t,e,o){t.exports=o.p+"img/coupon-back1.f7871e2.png"},452:function(t,e,o){t.exports=o.p+"img/vipCouB.060d77f.png"},453:function(t,e,o){t.exports=o.p+"img/coupon-back2.09ea952.png"},454:function(t,e,o){"use strict";o(438)},455:function(t,e,o){var n=o(2)((function(i){return i[1]}));n.push([t.i,".vipSwrapp[data-v-53a17f98]{background-color:#fff;border-radius:16px;box-shadow:0 2px 20px rgba(0,0,0,.08);height:236px;left:50%;margin-left:-123px;position:fixed;top:250px;width:226px}.vipSwrapp .tip[data-v-53a17f98]{color:#282828;font-size:16px;font-weight:400;margin-left:0;margin-top:10px;text-align:center}.vipSwrapp .iconfont[data-v-53a17f98]{color:#ccc;font-size:20px;padding-right:14px;padding-top:14px}.vipSwrapp .code[data-v-53a17f98]{height:148px;margin:6px auto 0;width:148px}.vipSwrapp .code img[data-v-53a17f98]{height:100%;width:100%}",""]),n.locals={},t.exports=n},457:function(t,e,o){"use strict";var n={name:"ffVip",props:{showCode:{type:Boolean,default:!1}},data:function(){return{imgUrl:""}},created:function(){this.gainCount()},mounted:function(){},methods:{closeVip:function(){this.$emit("changeVip",!1)},gainCount:function(){var t=this;this.$axios.get("/pc/get_pay_vip_code").then((function(e){t.imgUrl=e.data.url}))}}},c=(o(454),o(16)),component=Object(c.a)(n,(function(){var t=this,e=t._self._c;return t.showCode?e("div",{staticClass:"vipSwrapp"},[e("div",{staticClass:"close acea-row row-right"},[e("span",{staticClass:"iconfont icon-guanbi",on:{click:t.closeVip}})]),t._v(" "),e("div",{staticClass:"code"},[e("img",{attrs:{src:t.imgUrl}})]),t._v(" "),e("div",{staticClass:"tip"},[t._v("扫码激活付费会员")])]):t._e()}),[],!1,null,"53a17f98",null);e.a=component.exports},489:function(t,e,o){var content=o(600);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(3).default)("2390b3d6",content,!0,{sourceMap:!1})},599:function(t,e,o){"use strict";o(489)},600:function(t,e,o){var n=o(2),c=o(63),r=o(451),d=o(452),l=o(601),v=o(453),m=n((function(i){return i[1]})),f=c(r),h=c(d),x=c(l),_=c(v);m.push([t.i,".user-coupon .main-section[data-v-c4583258]{background-color:#fff;flex:1;margin-left:8px}.user-coupon .main-hd[data-v-c4583258]{border-bottom:1px solid #ececec;color:#282828;font-size:18px;height:60px}.user-coupon .main-bd[data-v-c4583258]{padding-bottom:15px;padding-top:30px}.user-coupon .user[data-v-c4583258]{background-color:#fff;height:170px;width:180px}.user-coupon .user .image[data-v-c4583258]{border-radius:50%;color:#282828;font-size:14px;height:52px;margin-bottom:13px;overflow:hidden;width:52px}.user-coupon .user .img[data-v-c4583258]{display:block;height:100%;-o-object-fit:cover;object-fit:cover;width:100%}.user-coupon .user .name[data-v-c4583258]{max-width:90%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.user-coupon .menu[data-v-c4583258]{background-color:#fff;margin-top:8px;padding-bottom:38px;padding-top:38px}.user-coupon .menu .item[data-v-c4583258]{border-left:3px solid transparent;color:#666;cursor:pointer;font-size:14px;height:25px;line-height:25px;text-align:center}.user-coupon .menu .item.on[data-v-c4583258]{border-color:#e93323;color:#e93323}.user-coupon .list .item[data-v-c4583258]{background:url("+f+") 50%/cover no-repeat;box-shadow:0 3px 20px rgba(0,0,0,.08);height:130px;margin-bottom:15px;margin-right:15px;width:300px}.user-coupon .list .item.svip[data-v-c4583258]{background-image:url("+h+")}.user-coupon .list .item.svip.disabledVip[data-v-c4583258]{background-image:url("+x+")}.user-coupon .list .item.svip.disabledVip .label[data-v-c4583258]{background-color:hsla(0,0%,57%,.1);color:#acacac}.user-coupon .list .item.svip.disabledVip .text-cont[data-v-c4583258]{color:#d0d0d0}.user-coupon .list .item.svip.disabledVip .money[data-v-c4583258],.user-coupon .list .item.svip.disabledVip .name[data-v-c4583258]{color:#bfbfbf}.user-coupon .list .item.svip.disabledVip .time[data-v-c4583258]{color:#d0d0d0}.user-coupon .list .item.svip.disabledVip .btn[data-v-c4583258]{color:#fff}.user-coupon .list .item.svip .label[data-v-c4583258]{background-color:#fee2b6;color:#863c0d}.user-coupon .list .item.svip .btn[data-v-c4583258],.user-coupon .list .item.svip .money[data-v-c4583258]{color:#863c0d}.user-coupon .list .item.disabled[data-v-c4583258]{background-image:url("+_+")}.user-coupon .list .item.disabled .label[data-v-c4583258]{background-color:hsla(0,0%,57%,.1);color:#acacac}.user-coupon .list .item.disabled .text-cont[data-v-c4583258]{color:#d0d0d0}.user-coupon .list .item.disabled .money[data-v-c4583258],.user-coupon .list .item.disabled .name[data-v-c4583258]{color:#bfbfbf}.user-coupon .list .item.disabled .time[data-v-c4583258]{color:#d0d0d0}.user-coupon .list .item .text[data-v-c4583258]{flex:1;padding-left:14px}.user-coupon .list .item .text-cont[data-v-c4583258]{color:#969696;font-size:14px;margin-top:14px}.user-coupon .list .item .label[data-v-c4583258]{background-color:rgba(233,51,35,.1);color:#e93323;font-size:14px;height:24px;line-height:24px;text-align:center;width:62px}.user-coupon .list .item .money[data-v-c4583258]{color:#e93323;font-size:16px;margin-right:14px}.user-coupon .list .item .money .num[data-v-c4583258]{font-size:32px;font-weight:700}.user-coupon .list .item .info[data-v-c4583258]{flex:1;min-width:0}.user-coupon .list .item .name[data-v-c4583258]{color:#282828;display:inline-block;font-size:16px;margin-bottom:6px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:140px}.user-coupon .list .item .time[data-v-c4583258]{color:#969696;font-size:12px;margin-top:14px}.user-coupon .list .item .btn[data-v-c4583258]{color:#fff;cursor:pointer;font-size:16px;padding-left:18px;padding-right:18px;width:52px}",""]),m.locals={},t.exports=m},601:function(t,e,o){t.exports=o.p+"img/vipCouB02.6479202.png"},646:function(t,e,o){"use strict";o.r(e);o(237),o(7);var n=o(111),c=o.n(n),r=o(4),d=(o(44),{auth:"guest",components:{ffVip:o(457).a},props:{},data:function(){return{moneyLevel:-1,showCode:!1,couponList:[]}},fetch:function(t){var e=t.store;e.commit("isHeader",!0),e.commit("isFooter",!0)},head:function(){return{title:"领取优惠券-"+this.$store.state.titleCon}},computed:{},watch:{},asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.app;case 1:case"end":return e.stop()}}),e)})))()},created:function(){this.getCouponList()},mounted:function(){this.$auth.loggedIn?this.moneyLevel=this.$auth.user.is_money_level:this.moneyLevel=-1,this.$nextTick((function(){}))},methods:{changeVip:function(t){this.showCode=t},getCoupon:function(t,e){var o=this,n=o.couponList;o.$axios.post("/coupon/receive",{couponId:t}).then((function(t){n[e].is_use++,o.$set(o,"couponList",n),c.a.success("领取成功")})).catch((function(t){c.a.error(t)}))},getCouponList:function(){var t=this;this.$axios.get("coupons").then((function(e){t.couponList=e.data})).catch((function(t){c.a.success(t)}))}}}),l=(o(599),o(16)),component=Object(l.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-coupon"},[e("div",{staticClass:"main-section"},[e("div",{staticClass:"main-hd acea-row row-middle"},[t._v("领取优惠券")]),t._v(" "),e("div",{staticClass:"main-bd"},[e("div",{staticClass:"list acea-row"},t._l(t.couponList,(function(o,n){return e("div",{key:n,staticClass:"item acea-row",class:[4==o.receive_type?"svip":"",o.is_use>=o.receive_limit&&4!=o.receive_type?"disabled":"",o.is_use>=o.receive_limit&&4==o.receive_type?"disabledVip":""]},[e("div",{staticClass:"text"},[0===o.type?e("div",{staticClass:"label"},[t._v("通用券")]):1===o.type?e("div",{staticClass:"label"},[t._v("品类券")]):2===o.type?e("div",{staticClass:"label"},[t._v("商品券")]):t._e(),t._v(" "),e("div",{staticClass:"text-cont acea-row row-middle"},[e("div",{staticClass:"money"},[t._v("\n                ￥"),e("span",{staticClass:"num"},[t._v(t._s(o.coupon_price))])]),t._v(" "),e("div",{staticClass:"info"},[e("div",{staticClass:"name"},[t._v(t._s(o.coupon_title))]),t._v(" "),e("div",[t._v("满"+t._s(o.use_min_price)+"可用")])])]),t._v(" "),o.start_time?e("div",{staticClass:"time"},[t._v("\n              有效时间："+t._s(o.start_time)+"-"+t._s(o.end_time)+"\n            ")]):e("div",{staticClass:"time"},[t._v("不限时")])]),t._v(" "),o.is_use>=o.receive_limit?e("div",{staticClass:"btn acea-row row-middle"},[t._v("\n            已领取\n          ")]):o.is_permanent||o.remain_count?e("div",{staticClass:"acea-row row-middle"},[4!=o.receive_type?e("div",{staticClass:"btn acea-row row-middle",on:{click:function(e){return t.getCoupon(o.id,n)}}},[t._v("\n              立即领取\n            ")]):t._e(),t._v(" "),0!==t.moneyLevel&&4==o.receive_type?e("div",{staticClass:"btn acea-row row-middle",on:{click:function(e){return t.getCoupon(o.id,n)}}},[t._v("\n              立即领取\n            ")]):t._e(),t._v(" "),0===t.moneyLevel&&4==o.receive_type?e("div",{staticClass:"btn acea-row row-middle",on:{click:function(e){t.showCode=!0}}},[t._v("\n              立即领取\n            ")]):t._e()]):e("div",{staticClass:"btn acea-row row-middle"},[t._v("\n            已领完\n          ")])])})),0),t._v(" "),0==t.couponList.length?e("div",{staticClass:"empty-box"},[e("img",{attrs:{src:o(437),alt:""}}),t._v(" "),e("p",[t._v("亲，暂无可领取的优惠券哟~")])]):t._e()])]),t._v(" "),e("ffVip",{attrs:{showCode:t.showCode},on:{changeVip:t.changeVip}})],1)}),[],!1,null,"c4583258",null);e.default=component.exports}}]);