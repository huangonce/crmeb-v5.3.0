(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{426:function(t,e,o){t.exports=o.p+"img/noGoods.44441ed.png"},461:function(t,e,o){var content=o(503);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(3).default)("041003de",content,!0,{sourceMap:!1})},502:function(t,e,o){"use strict";o(461)},503:function(t,e,o){var r=o(2)((function(i){return i[1]}));r.push([t.i,'.goods_cate[data-v-ae2c2012]{margin-top:2px}.goods_cate .noGoods[data-v-ae2c2012]{text-align:center}.goods_cate .noGoods .pictrue[data-v-ae2c2012]{height:174px;margin:130px auto 0;width:274px}.goods_cate .noGoods .pictrue img[data-v-ae2c2012]{height:100%;width:100%}.goods_cate .noGoods .name[data-v-ae2c2012]{color:#969696;font-size:14px;margin-bottom:290px;margin-top:20px}.goods_cate .nav[data-v-ae2c2012]{cursor:pointer;height:50px;margin-bottom:10px;width:100%}.goods_cate .nav .navCon[data-v-ae2c2012]{height:100%}.goods_cate .nav .navCon.wrapper_1200[data-v-ae2c2012]{background-color:#fff;overflow:visible!important;overflow:initial!important}.goods_cate .nav .navCon .moreCon[data-v-ae2c2012]{position:relative}.goods_cate .nav .navCon .moreCon .moreCategory[data-v-ae2c2012]{background-color:#fff;box-shadow:0 3px 16px rgba(0,0,0,.06);padding:44px 44px 16px;position:absolute;right:0;top:50px;width:1200px}.goods_cate .nav .navCon .moreCon .moreCategory .item[data-v-ae2c2012]{margin:0 40px 28px 0}.goods_cate .nav .navCon .moreCon .moreCategory .item[data-v-ae2c2012]:hover{color:#e93323}.goods_cate .nav .navCon .list[data-v-ae2c2012]{height:100%;overflow:hidden;padding-left:35px;width:1050px}.goods_cate .nav .navCon .list .item[data-v-ae2c2012]{height:100%;line-height:50px;overflow:hidden}.goods_cate .nav .navCon .list .item~.item[data-v-ae2c2012]{margin-left:50px}.goods_cate .nav .navCon .list .item[data-v-ae2c2012]:hover{color:#e93323}.goods_cate .nav .navCon .list .item.font-color[data-v-ae2c2012]{border-bottom:2px solid #e93323}.goods_cate .nav .navCon .more[data-v-ae2c2012]{height:100%;line-height:50px;position:relative;text-align:center;width:132px}.goods_cate .nav .navCon .more[data-v-ae2c2012]:before{background-color:#efefef;content:" ";height:16px;left:0;margin-top:-8px;position:absolute;top:50%;width:1px}.goods_cate .nav .navCon .more.font-color[data-v-ae2c2012]{border-bottom:2px solid #e93323}.goods_cate .nav .navCon .more .iconfont[data-v-ae2c2012]{margin-right:6px}.goods_cate .title[data-v-ae2c2012]{color:#999;height:46px;line-height:46px}.goods_cate .title .home[data-v-ae2c2012]{color:#282828}.goods_cate .wrapper[data-v-ae2c2012]{background-color:#fff;cursor:pointer;padding:25px 17px}.goods_cate .wrapper .list[data-v-ae2c2012]{border-bottom:1px dotted #efefef;padding-bottom:10px;width:1100px}.goods_cate .wrapper .list .item[data-v-ae2c2012]{margin-bottom:10px;margin-right:30px}.goods_cate .wrapper .list .item[data-v-ae2c2012]:hover{color:#e93323}.goods_cate .wrapper .name[data-v-ae2c2012]{color:#969696;margin-right:20px}.goods_cate .wrapper .sort[data-v-ae2c2012]{margin-top:20px}.goods_cate .wrapper .sort .item[data-v-ae2c2012]{margin-right:30px}.goods_cate .wrapper .sort .item[data-v-ae2c2012]:hover{color:#e93323}.goods_cate .wrapper .sort .item .icon[data-v-ae2c2012]{font-size:15px;margin-left:5px}.goods_cate .wrapper .sort .item .iconfont[data-v-ae2c2012]{color:#e2e2e2;font-size:15px;margin-left:5px}.goods_cate .goods[data-v-ae2c2012]{width:1220px}.goods_cate .goods .item[data-v-ae2c2012]{background-color:#fff;cursor:pointer;height:340px;margin:20px 20px 0 0;padding:16px;width:224px}.goods_cate .goods .item[data-v-ae2c2012]:hover{box-shadow:0 3px 20px rgba(0,0,0,.06)}.goods_cate .goods .item .pictrue[data-v-ae2c2012]{height:192px;width:192px}.goods_cate .goods .item .pictrue img[data-v-ae2c2012]{height:100%;width:100%}.goods_cate .goods .item .money[data-v-ae2c2012]{margin-top:12px}.goods_cate .goods .item .money .font-color[data-v-ae2c2012]{font-size:22px;font-weight:700}.goods_cate .goods .item .money .y_money[data-v-ae2c2012]{color:#aaa;font-size:12px;margin-left:8px;-webkit-text-decoration:line-through;text-decoration:line-through}.goods_cate .goods .item .money .label[data-v-ae2c2012]{background:linear-gradient(330deg,rgba(231,85,67,.15),hsla(7,88%,64%,.15));font-size:12px;height:20px;line-height:20px;text-align:center;width:20px}.goods_cate .goods .item .name[data-v-ae2c2012]{color:#5a5a5a;height:40px;margin-top:8px}.goods_cate .goods .item .bottom[data-v-ae2c2012]{color:#aaa;font-size:12px;margin-top:10px}',""]),r.locals={},t.exports=r},622:function(t,e,o){"use strict";o.r(e);var r=[function(){var t=this._self._c;return t("div",{staticClass:"pictrue"},[t("img",{attrs:{src:o(426)}})])}],n=o(11),c=o(4),d=(o(44),o(45),o(12),o(46),{name:"goods_cate",auth:!1,data:function(){return{categoryList:[],categoryCurrent:[],current:0,moreCurrent:0,seen:!1,titleName:"",erCurrent:0,iSdefaults:0,productslist:[],pullRefreshss:!0,page:1,limit:10,scollY:null,pageTotal:0,title:"下拉加载更多",cid:0,sid:0,priceOrder:"",news:0}},asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var o,r,c,d,l,h,v,m,f,_,x,C;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.app,r=t.query,e.next=3,Promise.all([o.$axios.get("/category")]);case 3:return c=e.sent,d=Object(n.a)(c,1),l=d[0],(h=l.data).forEach((function(t){t.children.unshift({id:0,cate_name:"全部"})})),v=r.cidIndex?r.cidIndex:0,m=r.cid?r.cid:l.data.length?l.data[0].id:0,f=r.sid?r.sid:0,_=r.sidIndex?parseInt(r.sidIndex)+1:0,x=r.cid&&l.data.length?l.data[parseInt(v)].children:l.data.length?l.data[0].children:"",C=r.cid&&l.data.length?l.data[parseInt(v)].cate_name:l.data.length?l.data[0].cate_name:"",e.abrupt("return",{categoryList:h,categoryCurrent:x,titleName:C,cid:parseInt(m),sid:parseInt(f),current:parseInt(v),erCurrent:_,moreCurrent:parseInt(v)});case 10:case"end":return e.stop()}}),e)})))()},fetch:function(t){var e=t.store;e.commit("isHeader",!0),e.commit("isFooter",!0)},head:function(){return{title:"商品分类-"+this.$store.state.titleCon}},created:function(){this.getProductslist()},mounted:function(){this.pullRefresh()},beforeDestroy:function(){window.onscroll=null},methods:{goDetail:function(t){var path=path=t.presale?{path:"/goods_presell_detail",query:{id:t.id}}:{path:"/goods_detail/".concat(t.id)};this.$router.push(path)},getProductslist:function(){var t=this,e={page:this.page,limit:this.limit,cid:this.cid,sid:this.sid,priceOrder:this.priceOrder,news:this.news};t.$axios.get("/pc/get_products",{params:e}).then((function(e){t.pageTotal=e.data.count,t.productslist=t.productslist.concat(e.data.list)})).catch((function(e){t.$message.error(e)}))},pullRefresh:function(){var t=this;window.onscroll=function(){t.scrollChange()}},scrollChange:function(){var t=this;if(this.scollY=this.comsys.getScrollTop()+this.comsys.getWindowHeight()-this.comsys.getScrollHeight(),this.scollY>=-50){if(this.page>Math.ceil(this.pageTotal/this.limit))return this.title="已没有更多数据",this.pullRefreshss=!0,!1;if(!this.pullRefreshss)return!1;t.pullRefreshss=!1,t.title="正在加载中....",this.page++,t.getProductslist()}else t.pullRefreshss=!0,this.title="下拉加载更多"},category:function(t){this.current=t,this.moreCurrent=t,this.categoryCurrent=this.categoryList[t].children,this.titleName=this.categoryList[t].cate_name,this.productslist=[],this.pullRefreshss=!0,this.page=1,this.cid=this.categoryList[t].id,this.sid=0,this.erCurrent=0,this.priceOrder="",this.news=0,this.getProductslist()},enter:function(){this.current=-1,this.seen=!0},leave:function(){this.seen=!1,this.current=this.moreCurrent},moreItem:function(t){this.moreCurrent=t,this.categoryCurrent=this.categoryList[t].children,this.titleName=this.categoryList[t].cate_name,this.seen=!1,this.current=t,this.productslist=[],this.pullRefreshss=!0,this.page=1,this.cid=this.categoryList[t].id,this.sid=0,this.erCurrent=0,this.priceOrder="",this.news=0,this.getProductslist()},erCategory:function(t,e){this.erCurrent=e,this.productslist=[],this.pullRefreshss=!0,this.page=1,this.sid=t,this.priceOrder="",this.news=0,this.getProductslist()},defaults:function(){this.iSdefaults=0,this.productslist=[],this.pullRefreshss=!0,this.page=1,this.news=0,this.priceOrder="",this.getProductslist()},priceSort:function(t){this.iSdefaults=1,this.productslist=[],this.pullRefreshss=!0,this.page=1,this.news=0,this.priceOrder=t,this.getProductslist()},timeNews:function(){this.iSdefaults=2,this.productslist=[],this.pullRefreshss=!0,this.priceOrder="",this.page=1,this.news=!0==!this.news?1:0,this.getProductslist()}}}),l=(o(502),o(16)),component=Object(l.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"goods_cate"},[e("div",{staticClass:"title wrapper_1200"},[e("nuxt-link",{staticClass:"home",attrs:{to:"/"}},[t._v("首页 > ")]),t._v(t._s(t.titleName)+"\n  ")],1),t._v(" "),e("div",{staticClass:"nav"},[e("div",{staticClass:"navCon wrapper_1200 acea-row row-between-wrapper"},[e("div",{staticClass:"list acea-row row-middle"},t._l(t.categoryList,(function(o,r){return e("div",{key:r,staticClass:"item",class:t.current===r?"font-color":"",on:{click:function(e){return t.category(r)}}},[t._v("\n          "+t._s(o.cate_name)+"\n        ")])})),0),t._v(" "),e("div",{staticClass:"moreCon",on:{mouseleave:function(e){return t.leave()}}},[e("div",{staticClass:"more",class:-1===t.current?"font-color":"",on:{mouseenter:t.enter}},[e("span",{staticClass:"iconfont icon-gengduofenlei"}),t._v("更多分类\n        ")]),t._v(" "),t.seen?e("div",{staticClass:"moreCategory acea-row row-middle"},t._l(t.categoryList,(function(o,r){return e("div",{key:r,staticClass:"item",class:t.moreCurrent===r?"font-color":"",on:{click:function(e){return t.moreItem(r)}}},[t._v("\n            "+t._s(o.cate_name)+"\n          ")])})),0):t._e()])])]),t._v(" "),e("div",{staticClass:"wrapper wrapper_1200"},[e("div",{staticClass:"acea-row"},[e("div",{staticClass:"name"},[t._v("分类：")]),t._v(" "),e("div",{staticClass:"list acea-row row-middle"},t._l(t.categoryCurrent,(function(o,r){return e("div",{key:r,staticClass:"item",class:t.erCurrent===r?"font-color":"",on:{click:function(e){return t.erCategory(o.id,r)}}},[t._v("\n          "+t._s(o.cate_name)+"\n        ")])})),0)]),t._v(" "),e("div",{staticClass:"sort acea-row"},[e("div",{staticClass:"name"},[t._v("排序：")]),t._v(" "),e("div",{staticClass:"acea-row row-middle"},[e("div",{staticClass:"item",class:0===t.iSdefaults?"font-color":"",on:{click:t.defaults}},[t._v("\n          默认\n        ")]),t._v(" "),"asc"===t.priceOrder?e("div",{staticClass:"item",class:1===t.iSdefaults?"font-color":"",on:{click:function(e){return t.priceSort("desc")}}},[t._v("\n          价格\n          "),e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-jiageshaixuanshang"}})])]):""===t.priceOrder?e("div",{staticClass:"item",class:1===t.iSdefaults?"font-color":"",on:{click:function(e){return t.priceSort("asc")}}},[t._v("\n          价格\n          "),e("span",{staticClass:"iconfont icon-jiageshaixuan"})]):e("div",{staticClass:"item",class:1===t.iSdefaults?"font-color":"",on:{click:function(e){return t.priceSort("")}}},[t._v("\n          价格\n          "),e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-jiageshaixuanxia"}})])]),t._v(" "),e("div",{staticClass:"item",class:2===t.iSdefaults?"font-color":"",on:{click:t.timeNews}},[t._v("\n          上架时间\n          "),e("span",{staticClass:"iconfont icon-shangjiashijian",class:t.news?"font-color":""})])])])]),t._v(" "),e("div",{staticClass:"wrapper_1200"},[t.productslist.length?e("div",{staticClass:"goods acea-row row-middle"},t._l(t.productslist,(function(o,r){return e("div",{key:r,staticClass:"item",on:{click:function(e){return t.goDetail(o)}}},[e("div",{staticClass:"pictrue"},[e("img",{attrs:{src:o.image}})]),t._v(" "),e("div",{staticClass:"money acea-row row-between-wrapper"},[e("div",[e("span",{staticClass:"font-color"},[t._v("¥"+t._s(o.price))]),e("span",{staticClass:"y_money"},[t._v("¥"+t._s(o.ot_price))])]),t._v(" "),o.checkCoupon?e("div",{staticClass:"label font-color"},[t._v("券")]):t._e()]),t._v(" "),e("div",{staticClass:"name line2"},[t._v(t._s(o.store_name))]),t._v(" "),e("div",{staticClass:"bottom acea-row row-between-wrapper"},[e("div",[t._v(t._s(o.sales)+"人付款")]),t._v(" "),e("div",[t._v(t._s(o.star)+"分")])])])})),0):t._e(),t._v(" "),t.productslist.length&&t.productslist.length>=t.limit?e("div",{staticClass:"loadingicon acea-row row-center-wrapper"},[t.pullRefreshss?t._e():e("span",{staticClass:"loading iconfont icon-jiazai"}),t._v(t._s(t.title)+"\n    ")]):t._e()]),t._v(" "),t.productslist.length?t._e():e("div",{staticClass:"noGoods"},[t._m(0),t._v(" "),e("div",{staticClass:"name"},[t._v("亲，该分类暂无商品哟~")])])])}),r,!1,null,"ae2c2012",null);e.default=component.exports}}]);