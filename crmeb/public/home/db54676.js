(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{488:function(t,e,r){var content=r(598);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(3).default)("f9c6c218",content,!0,{sourceMap:!1})},594:function(t,e,r){t.exports=r.p+"img/order_status_1.df829ed.png"},595:function(t,e,r){t.exports=r.p+"img/order_status_2.9881518.png"},596:function(t,e,r){t.exports=r.p+"img/noorder.e5741ad.png"},597:function(t,e,r){"use strict";r(488)},598:function(t,e,r){var n=r(2)((function(i){return i[1]}));n.push([t.i,".user-com-tab .item[data-v-4ccf4a3c]{padding:0 10px}.user-order-list li[data-v-4ccf4a3c]{border-bottom:1px solid #ececec;padding:30px 0 26px;position:relative}.user-order-list li .refund-icon[data-v-4ccf4a3c]{position:absolute;right:50px;top:40px}.user-order-list li .bd[data-v-4ccf4a3c]{border-bottom:1px dashed #e1e1e1;cursor:pointer;padding-right:40px}.user-order-list li .bd .order-txt[data-v-4ccf4a3c]{color:#282828;font-size:14px}.user-order-list li .bd .order-txt .status[data-v-4ccf4a3c]{color:#e93323;float:right}.user-order-list li .bd .content[data-v-4ccf4a3c]{margin-top:20px}.user-order-list li .bd .content .goods-item[data-v-4ccf4a3c]{display:flex;margin-bottom:20px;position:relative}.user-order-list li .bd .content .goods-item .img-box[data-v-4ccf4a3c]{height:120px;width:120px}.user-order-list li .bd .content .goods-item .img-box img[data-v-4ccf4a3c]{display:block;height:100%;width:100%}.user-order-list li .bd .content .goods-item .info-txt[data-v-4ccf4a3c]{display:flex;flex-direction:column;font-size:14px;justify-content:center;margin-left:24px;position:relative;width:500px}.user-order-list li .bd .content .goods-item .info-txt .info[data-v-4ccf4a3c]{color:#aaa;font-size:12px;margin-top:4px}.user-order-list li .bd .content .goods-item .info-txt .price[data-v-4ccf4a3c]{color:#e93323;margin-top:15px}.user-order-list li .bd .content .goods-item .info-txt .num[data-v-4ccf4a3c]{color:#999;position:absolute;right:0;top:60%;transform:translateY(-50%)}.user-order-list li .foot[data-v-4ccf4a3c]{padding-right:32px;padding-top:26px}.user-order-list li .foot p[data-v-4ccf4a3c]{color:#666;font-size:14px;text-align:right}.user-order-list li .foot p span[data-v-4ccf4a3c]{color:#e93323}.user-order-list li .foot .btn-wrapper[data-v-4ccf4a3c]{display:flex;justify-content:flex-end;margin-top:20px}.user-order-list li .foot .btn-wrapper div[data-v-4ccf4a3c]{border:1px solid #999;border-radius:4px;color:#666;cursor:pointer;font-size:14px;height:36px;line-height:34px;margin-left:20px;text-align:center;width:110px}.user-order-list li .foot .btn-wrapper div.pay[data-v-4ccf4a3c]{background:#e93323;border-color:#e93323;color:#fff}.pages-box[data-v-4ccf4a3c]{margin-top:30px;text-align:right}",""]),n.locals={},t.exports=n},645:function(t,e,r){"use strict";r.r(e);r(237),r(7);var n=r(111),o=r.n(n),c=(r(238),r(155)),d=r.n(c),l=(r(45),r(12),r(46),r(19),{name:"orderList",auth:"guest",scrollToTop:!0,data:function(){return{tabCur:"",tabList:[{title:"全部订单",key:"",numberName:"pc_order_count"},{title:"待付款",key:"0",numberName:"unpaid_count"},{title:"待发货",key:"1",numberName:"unshipped_count"},{title:"待收货",key:"2",numberName:"received_count"},{title:"待评论",key:"3",numberName:"evaluated_count"},{title:"已完成",key:"4",numberName:"complete_count"},{title:"售后",key:"-3",numberName:"refund_count"}],orderList:[],total:0,page:1,limit:10}},fetch:function(t){var e=t.store;e.commit("isHeader",!0),e.commit("isFooter",!0)},head:function(){return{title:"我的订单-"+this.$store.state.titleCon}},created:function(){},mounted:function(){Promise.all([this.getList(),this.getNumber()])},methods:{goOrderConfirm:function(t){var e=this,r=this;r.$axios.post("/order/again",{uni:t}).then((function(t){r.$router.replace({path:"/order_confirm",query:{new:1,cartId:t.data.cateId}})})).catch((function(t){e.$message.error(t)}))},bindTab:function(t){this.tabCur=t.key,this.page=1,this.getList()},getNumber:function(){var t=this;this.$axios.get("order/data").then((function(e){for(var i in e.data)t.tabList.forEach((function(t){i==t.numberName&&(t.num=e.data[i])}))}))},getList:function(){var t=this,path=-3==this.tabCur?"pc/get_refund_order_list":"pc/get_order_list";this.$axios.get(path,{params:{type:this.tabCur,page:this.page,limit:this.limit}}).then((function(e){t.orderList=e.data.list,t.total=e.data.count}))},cancelOrder:function(t,e){var r=this;d.a.confirm("确定取消该订单吗？","提示").then((function(e){r.$axios.post("order/cancel",{id:t.order_id}).then((function(data){return r.getList(),r.getNumber(),o.a.success(data.msg)}))}))},goDetail:function(t){this.$router.push({path:"/order_detail",query:{orderId:t.order_id,order_type:this.tabCur}})},goEvaluation:function(t){1===t.cartInfo.length?this.$router.push({path:"/evaluation",query:{unique:t.cartInfo[0].unique}}):this.goDetail(t)},goRefound:function(t){this.$router.push({path:"/refund",query:{orderId:t.order_id}})},goLogistics:function(t){this.$router.push({path:"/logistics",query:{orderId:t.order_id}})},bindPageCur:function(data){this.page=data,this.getList()},goBuy:function(t){this.$router.push({path:"/payment",query:{result:t.order_id}})}}}),_=(r(597),r(16)),component=Object(_.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-order-list"},[e("div",{staticClass:"user-com-tab"},t._l(t.tabList,(function(r,n){return e("span",{key:n,staticClass:"item",class:{on:t.tabCur===r.key},on:{click:function(e){return t.bindTab(r)}}},[t._v(t._s(r.title)+" "),r.num?[t._v("("+t._s(r.num)+")")]:t._e()],2)})),0),t._v(" "),e("div",{staticClass:"order-list"},[e("ul",t._l(t.orderList,(function(n,o){return e("li",{key:o},[e("div",{staticClass:"bd",on:{click:function(e){return t.goDetail(n)}}},[e("div",{staticClass:"order-txt"},[t._v("\n            订单日期: "+t._s(n._add_time)+"\n            "),0==n._status._type?e("span",{staticClass:"status"},[t._v("待付款")]):1==n._status._type&&1==n.shipping_type?e("span",{staticClass:"status"},[t._v("待发货"),n.refund.length?e("span",[t._v(t._s(n.is_all_refund?"，退款中":"，部分退款中"))]):t._e()]):2==n._status._type&&1==n.shipping_type?e("span",{staticClass:"status"},[t._v("待收货"),n.refund.length?e("span",[t._v(t._s(n.is_all_refund?"，退款中":"，部分退款中"))]):t._e()]):3==n._status._type&&1==n.shipping_type?e("span",{staticClass:"status"},[t._v("待评价"),n.refund.length?e("span",[t._v(t._s(n.is_all_refund?"，退款中":"，部分退款中"))]):t._e()]):4==n._status._type&&1==n.shipping_type?e("span",{staticClass:"status"},[t._v("已完成"),n.refund.length?e("span",[t._v(t._s(n.is_all_refund?"，退款中":"，部分退款中"))]):t._e()]):2==n.shipping_type&&3==n._status._type?e("span",{staticClass:"status"},[t._v("待评价"),n.refund.length?e("span",[t._v(t._s(n.is_all_refund?"，退款中":"，部分退款中"))]):t._e()]):2==n.shipping_type&&4==n._status._type?e("span",{staticClass:"status"},[t._v("已完成"),n.refund.length?e("span",[t._v(t._s(n.is_all_refund?"，退款中":"，部分退款中"))]):t._e()]):t._e()]),t._v(" "),e("div",{staticClass:"content"},t._l(n.cartInfo,(function(r,n){return e("div",{key:n,staticClass:"goods-item"},[r.productInfo.attrInfo.image?e("div",{staticClass:"img-box"},[e("img",{attrs:{src:r.productInfo.attrInfo.image,alt:""}})]):e("div",{staticClass:"img-box"},[e("img",{attrs:{src:r.productInfo.image,alt:""}})]),t._v(" "),e("div",{staticClass:"info-txt"},[e("div",{staticClass:"title line2"},[t._v("\n                  "+t._s(r.productInfo.store_name)+"\n                ")]),t._v(" "),r.productInfo.attrInfo?e("div",{staticClass:"info"},[t._v("\n                  "+t._s(r.productInfo.attrInfo.suk)+"\n                ")]):t._e(),t._v(" "),r.productInfo.attrInfo?e("div",{staticClass:"price"},[t._v("\n                  ¥ "+t._s(r.productInfo.attrInfo.price)+"\n                ")]):e("div",{staticClass:"price"},[t._v("\n                  ¥ "+t._s(r.productInfo.price)+"\n                ")]),t._v(" "),e("span",{staticClass:"num"},[t._v("x"+t._s(r.cart_num))])])])})),0)]),t._v(" "),e("div",{staticClass:"foot"},[e("p",[t._v("\n            共"+t._s(n.total_num||0)+"件商品，总金额\n            "),e("span",[t._v("￥"+t._s(n.pay_price)+" ")]),t._v("(含运费"+t._s(n.pay_postage)+")\n          ")]),t._v(" "),e("div",{staticClass:"btn-wrapper"},[0===n._status._type||9===n._status._type?e("div",{staticClass:"rest",on:{click:function(e){return t.cancelOrder(n,o)}}},[t._v("\n              取消订单\n            ")]):t._e(),t._v(" "),0===n._status._type?e("div",{staticClass:"pay",on:{click:function(e){return t.goBuy(n)}}},[t._v("\n              立即支付\n            ")]):t._e(),t._v(" "),3===n._status._type||4===n._status._type?e("div",{staticClass:"rest",on:{click:function(e){return t.goOrderConfirm(n.order_id)}}},[t._v("\n              再次购买\n            ")]):t._e(),t._v(" "),3!==n._status._type||n.is_reply?t._e():e("div",{staticClass:"pay",on:{click:function(e){return t.goEvaluation(n)}}},[t._v("\n              去评价\n            ")]),t._v(" "),e("div",{staticClass:"pay",on:{click:function(e){return t.goDetail(n)}}},[t._v("查看详情")])])]),t._v(" "),-1===n._status._type||-2===n._status._type?e("div",{staticClass:"refund-icon"},[2===n.refund_status?e("img",{attrs:{src:r(594),alt:""}}):t._e(),t._v(" "),1===n.refund_status?e("img",{attrs:{src:r(595),alt:""}}):t._e()]):t._e()])})),0),t._v(" "),t.total>0?e("div",{staticClass:"pages-box"},[e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.bindPageCur}})],1):t._e(),t._v(" "),0==t.orderList.length?e("div",{staticClass:"empty-box"},[e("img",{attrs:{src:r(596),alt:""}}),t._v(" "),e("p",[t._v("亲，暂无订单信息哟~")])]):t._e()])])}),[],!1,null,"4ccf4a3c",null);e.default=component.exports}}]);